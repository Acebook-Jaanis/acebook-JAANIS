<!DOCTYPE html>
<html>
  <head>
    <title>Acebook</title>
    <%= csrf_meta_tags %>
    <%= stylesheet_link_tag "application", media: "all" %>
    <%= javascript_include_tag "application" %>
    <meta name="viewport" content="width=device-width, initial-scale=1">
     <!-- BOOTSTRAP -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <!-- FONTAWESOME -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <script defer src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script defer src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>

    <!-- Load our React component. -->
    <script defer src="../assets/javascripts/like_button.js"></script>

  </head>

  <body>

    <header class="d-flex flex-row flex-md-row align-items-center p-3 px-md-4 mb-3 border-bottom shadow-sm">
      <div class="d-flex flex-column my-0 title">
        <p class="h1 logo">acebook</p>
        <p class="align-self-end slogan">J A N N I S</p>
      </div>
      <% if current_user %>
        <div class="dropdown">
          <button onclick="myFunction()" class="button dropdown-btn"><i class="fas fa-user"></i> <%= current_user.username %></button>
          <div id="myDropdown" class="dropdown-content">
            <a href="<%= logout_path %>"><i class="fas fa-sign-out-alt"></i> Log Out</a>
          </div>
        </div>
      <% else %>
        <a class="button" href="<%= login_path %>">Log in</a>
      <% end %>
    </header>
   
    <%= yield %>
    <div id="like_button_container"></div>
    <footer class="my-5 pt-5 text-muted text-center text-small">
        <p> acebook J A N N I S &copy; 2021</p>
        <% # COMMENT OUT THE NEXT LINK IF YOU WANT TO ADD ANY LINK TO THE FOOTER %>
        <% # <ul class="list-inline"> %>
          <% #<li class="list-inline-item"><a href="#">Privacy</a></li> %>
          <% #<li class="list-inline-item"><a href="#">Terms</a></li> %>
          <% #<li class="list-inline-item"><a href="#">Support</a></li> %>
        <% #</ul> %>
    </footer>
    <!-- Bootstrap scripts-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"
    integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js"
    integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous">
    </script>
    <script>
      /* When the user clicks on the button,
      toggle between hiding and showing the dropdown content */
      function myFunction() {
        document.getElementById("myDropdown").classList.toggle("show");
      }
      // Close the dropdown if the user clicks outside of it
      window.onclick = function(event) {
        if (!event.target.matches('.dropdown-btn')) {
          var dropdowns = document.getElementsByClassName("dropdown-content");
          var i;
          for (i = 0; i < dropdowns.length; i++) {
            var openDropdown = dropdowns[i];
            if (openDropdown.classList.contains('show')) {
              openDropdown.classList.remove('show');
            }
          }
        }
      }
    </script>
  </body>
</html>
